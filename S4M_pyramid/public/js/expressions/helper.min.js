scale_group_width=function(h,d,e,a,b){var c=e;if(a==undefined){a=0}if(b==undefined){b=h.options.width}var f=b-a;var j=d+e-a+c;var g=1;if(f<j){g=f/j}return g};get_mean_value=function(a){sum=0;for(i in a){sum+=a[i]}mean=sum/a.length;return mean};add_line_to_box=function(a,e,h,g,f,j,b,c,k,l,m,d){e=e+h/2;if(options.bar_graph=="yes"){if(k=="no"){f.append("line").attr("x1",(e-15)).attr("x2",(e+15)).attr("y1",j(g)).attr("y2",j(g)).attr("shape-rendering","crispEdges").attr("stroke-width",a).attr("stroke",b).on("mouseover",function(){m[d].style("left",(d3.event.pageX-50)+"px").style("top",(d3.event.pageY+30)+"px").style("display","inline")}).on("mouseout",function(){m[d].style("display","none")}).on("mousemove",function(){m[d].style("left",(d3.event.pageX-50)+"px").style("top",(d3.event.pageY+30)+"px").style("display","inline")})}else{f.append("line").attr("x1",(e-h/2-parseInt(a)/2)).attr("x2",(e+h/2+parseInt(a)/2)).attr("y1",j(g)).attr("y2",j(g)).attr("shape-rendering","crispEdges").attr("stroke-width",a).attr("stroke",b).on("mouseover",function(){m[d].style("left",(d3.event.pageX-50)+"px").style("top",(d3.event.pageY+30)+"px").style("display","inline")}).on("mouseout",function(){m[d].style("display","none")}).on("mousemove",function(){m[d].style("left",(d3.event.pageX-50)+"px").style("top",(d3.event.pageY+30)+"px").style("display","inline")})}}else{if(k=="no"){f.append("line").attr("x1",(e-15)).attr("x2",(e+15)).attr("y1",j(g)).attr("y2",j(g)).attr("shape-rendering","crispEdges").attr("stroke-width",a).attr("stroke",b).on("mouseover",function(){m[d].style("left",(d3.event.pageX-50)+"px").style("top",(d3.event.pageY+30)+"px").style("display","inline")}).on("mouseout",function(){m[d].style("display","none")}).on("mousemove",function(){m[d].style("left",(d3.event.pageX-50)+"px").style("top",(d3.event.pageY+30)+"px").style("display","inline")})}else{f.append("line").attr("x1",(e-c-parseInt(a)/2)).attr("x2",(e+c+parseInt(a)/2)).attr("y1",j(g)).attr("y2",j(g)).attr("shape-rendering","crispEdges").attr("stroke-width",a).attr("stroke",b).on("mouseover",function(){m[d].style("left",(d3.event.pageX-50)+"px").style("top",(d3.event.pageY+30)+"px").style("display","inline")}).on("mouseout",function(){m[d].style("display","none")}).on("mousemove",function(){m[d].style("left",(d3.event.pageX-50)+"px").style("top",(d3.event.pageY+30)+"px").style("display","inline")})}}return f};add_vertical_line_to_box=function(a,h,c,f,d,g,e,j,k,b){d.append("line").attr("x1",h).attr("x2",h).attr("y1",g(c)).attr("y2",g(f)).attr("shape-rendering","crispEdges").attr("stroke-width",a).attr("stroke",e).on("mouseover",function(){k[b].style("left",(d3.event.pageX-50)+"px").style("top",(d3.event.pageY+30)+"px").style("display","inline")}).on("mouseout",function(){k[b].style("display","none")}).on("mousemove",function(){k[b].style("left",(d3.event.pageX-50)+"px").style("top",(d3.event.pageY+30)+"px").style("display","inline")});return d};add_scatter_line=function(b,g,c,a,e,d,f){b.append("line").attr("x1",c).attr("x2",a).attr("y1",e).attr("y2",d).attr("shape-rendering","auto").attr("stroke-width",f).attr("stroke",g);return b};calculate_error_bars=function(b){var a=get_mean_value(b);sum=0;numbers_meaned=[];x=null;for(x in b){numbers_meaned.push(Math.abs(b[x]-a))}standard_deviation=get_mean_value(numbers_meaned);return[a-standard_deviation,a,a+standard_deviation]};make_scatter_tooltip=function(d,b,c,f,g,e){var a=d3.tip().attr("class","d3-tip").offset([0,+110]).html(function(h){probe_name_for_tooltip=options.probe_name_for_tooltip;temp=probe_name_for_tooltip+": "+d+"<br/>Line Group: "+b+"<br/>"+e+c+"<br/>Replicate ID: "+g+"<br/>";return temp});return a};test_values=function(b,d,c,a){row=b+","+0+","+0+","+d[0]+","+d[4]+","+d[2]+","+d[1]+","+d[3];if(a.bar_graph==="yes"){row=b+","+d[1]+","+0+","+d[0]+","+d[2]+","+0+","+0+","+0}};remove_chars=function(a){newstring=a.replace(/[&\/\\#,()$~%.'":*?<>{}\s+]/g,"");return newstring};remove_chars_except_space=function(a){newstring=a.replace(/[&\/\\#,()$~%.'":*?<>{}+]/g,"");return newstring};get_x_value=function(f,e){var c=f.multi_scaleX;var d=f.options.sortByOption.split(",");if(options.multi_group!=1){var a=e[d[0]];d[1]="Sample_Type";var b=e[d[1]];var g=f.name_mapping[remove_chars(e.Probe+"-"+b+"-"+a)];centreX=c(g)}else{var g=f.name_mapping[remove_chars(e.Probe+"-"+e[d[0]])];centreX=c(g)}return centreX};create_name_mapping=function(e){var d=[];var b=0;var c=[];for(var f in e){d[e[f]]=b;d.val=b;c.push(b);b++}var a={};a.map=d;a.list=c;return a};setup_data_for_x_axis=function(b){options=b.options;var k=b.nested_values;sort_by_second_sort_bys=false;if(options.multi_group!=1){sort_by_multiple=true}sample_id_list=[];sample_type_list=[];second_sort_by_list=[];var q=[];var n=[];var m=[];second_sort_by_count=0;probe_list=[];line_count=0;var t;var v;var c=[];inner_label=[];outer_label=[];very_inner_label=[];var j;var e;var o;var y;if(multiview_graph=="no"){probeInfo={}}else{if(typeof probeInfo=="undefined"){probeInfo={}}}var d=options.legend_list.list;for(var s in k){second_sort_by_count=0;second_sort_by_list=[];row=k[s];probe=row.key;values=row.values;if(options.multi_group!=1){y={};for(var u in values){var l=values[u];t=l.key;dvals=l.values;tempX={};for(var r in dvals){inner_tempX={};var g=dvals[r];var v=g.key;o=remove_chars(probe+"-"+v+"-"+t);cur_name_with_space=remove_chars_except_space(probe+"-"+v+"-"+t);second_sort_by_list.push(t);second_sort_by_count++;tempX={};tempX.label1=probe;tempX.label2=t;tempX.scale_name=o;inner_tempX.label1=v;inner_tempX.label2=t;inner_tempX.scale_name=o;inner_tempX.end_name=o;inner_tempX.start_name=o;if(b.graph_type!="Scatter Plot"){inner_tempX.hover=sample_type_hover[v];tempX.hover=t}else{tempX.hover=sample_type_hover[t]}if(b.graph_type!="Scatter Plot"){tempX.multi_mapping=k[s].values[0].values[0].values[0]["Multi_Mapping"];tempX.Mapped_gene=k[s].values[0].values[0].values[0]["Mapped_gene"]}if(b.graph_type=="Scatter Plot"){if(multiview_graph=="no"){for(var a in d){if(!probeInfo[d[a]]){for(var x=0;x<k[s].values[0].values[0].values.length;x++){if(d[a]==k[s].values[0].values[0].values[x]["Probe"]){probeInfo[d[a]]=[];probeInfo[d[a]]["label"]=d[a];probeInfo[d[a]]["multi_mapping"]=k[s].values[0].values[0].values[x]["Multi_Mapping"];probeInfo[d[a]]["Mapped_gene"]=k[s].values[0].values[0].values[x]["Mapped_gene"]}}}}}else{var w=k[s].values[0].values[0].values;for(var x=0;x<w.length;x++){if(!probeInfo[w[x]["Probe"]]){probeInfo[w[x]["Probe"]]=[];probeInfo[w[x]["Probe"]]["label"]=w[x]["Probe"];probeInfo[w[x]["Probe"]]["multi_mapping"]=w[x]["Multi_Mapping"];probeInfo[w[x]["Probe"]]["Mapped_gene"]=w[x]["Mapped_gene"]}}}}if(r==0){if(u==0){e=o}j=o;tempX.start_name=o}m.push(tempX);if($.inArray(cur_name_with_space,q)==-1){n.push(cur_name_with_space)}if($.inArray(o,q)==-1){q.push(o)}very_inner_label.push(inner_tempX)}tempX.start_name=j;tempX.end_name=o;inner_label.push(tempX)}e=remove_chars(probe+"-"+values[0].values[0].key+"-"+values[0].key);y.label1=probe;y.label2=t;y.scale_name=o;y.start_name=e;y.end_name=o;if(b.graph_type!="Scatter Plot"){tempX.multi_mapping=k[s].values[0].values[0].values[0]["Multi_Mapping"];tempX.Mapped_gene=k[s].values[0].values[0].values[0]["Mapped_gene"];y.multi_mapping=k[s].values[0].values[0].values[0]["Multi_Mapping"];y.Mapped_gene=k[s].values[0].values[0].values[0]["Mapped_gene"]}y.hover=probe;outer_label.push(y);c.push(e);c.push(o)}else{tempX={};for(var u in values){l=values[u];v=l.key;o=remove_chars(probe+"-"+v);cur_name_with_space=remove_chars_except_space(probe+"-"+v);tempX={};inner_tempX={};tempX.label1=probe;inner_tempX.label1=v;inner_tempX.scale_name=o;tempX.scale_name=o;if(b.graph_type!="Scatter Plot"){if(b.graph_type=="Line Graph"){tempX.multi_mapping=k[s].values[0].values[0].values[0]["Multi_Mapping"];tempX.Mapped_gene=k[s].values[0].values[0].values[0]["Mapped_gene"]}else{tempX.multi_mapping=k[s].values[0].values[0]["Multi_Mapping"];tempX.Mapped_gene=k[s].values[0].values[0]["Mapped_gene"]}tempX.hover=probe;if(sortBy=="Sample_Type"){inner_tempX.hover=sample_type_hover[v]}else{inner_tempX.hover=v}}else{if(sortBy=="Sample_Type"){tempX.hover=sample_type_hover[probe]}else{tempX.hover=probe}}if(b.graph_type=="Scatter Plot"){if(multiview_graph=="no"){for(var a in d){if(!probeInfo[d[a]]){for(var x=0;x<k[s].values[0].values.length;x++){if(d[a]==k[s].values[0].values[x]["Probe"]){probeInfo[d[a]]=[];probeInfo[d[a]]["label"]=d[a];probeInfo[d[a]]["multi_mapping"]=k[s].values[0].values[x]["Multi_Mapping"];probeInfo[d[a]]["Mapped_gene"]=k[s].values[0].values[x]["Mapped_gene"]}}}}}else{var w=k[s].values[0].values;for(var x=0;x<w.length;x++){if(!probeInfo[w[x]["Probe"]]){probeInfo[w[x]["Probe"]]=[];probeInfo[w[x]["Probe"]]["label"]=w[x]["Probe"];probeInfo[w[x]["Probe"]]["multi_mapping"]=w[x]["Multi_Mapping"];probeInfo[w[x]["Probe"]]["Mapped_gene"]=w[x]["Mapped_gene"]}}}}if(u==0){e=o;c.push(e);tempX.start_name=e;inner_tempX.start_name=e}if($.inArray(cur_name_with_space,q)==-1){n.push(cur_name_with_space)}if($.inArray(o,q)==-1){q.push(o)}tempX.start_name=j;tempX.end_name=o;inner_tempX.start_name=o;inner_tempX.end_name=o;inner_label.push(tempX);very_inner_label.push(inner_tempX);m.push(tempX)}tempX.start_name=e;c.push(o);tempX.end_name=o;outer_label.push(tempX)}line_count++}var f=create_name_mapping(q);var h=create_name_mapping(n);b.vertical_lines_mapping=m;b.multi_xaxis_list=n;b.vertical_lines=c;b.name_mapping=f.map;b.name_mapping_with_space=h.map;b.outer_label=outer_label;b.inner_label=inner_label;b.very_inner_label=very_inner_label;b.probeInfo=probeInfo;b.multi_scaleX=setup_multi_axis_scale(b,f.list);b.probe_count=line_count;b.sample_type_list=sample_type_list;b.probe_list=probe_list;b.second_sort_by_list=second_sort_by_list;b.second_sort_by_count=second_sort_by_count;b.sample_id_list=sample_id_list;return b};setup_multi_axis_scale=function(c,b){var a=d3.scale.ordinal().rangePoints([0,c.page_options.width],c.options.padding);a.domain(b);return a};return_y_min_max_values=function(a){options=a.options;max_val=1;min_val=0;lwr_min_max_values_from_data=d3.extent(options.data,function(b){lwr=(b.Expression_Value-b.Standard_Deviation);temp=lwr;if(lwr<min_val){min_val=lwr}if(isNaN(temp)&&isNaN(b.Expression_Value)){temp=0}return temp});upr_min_max_values_from_data=d3.extent(options.data,function(c){var b=1;upr=(c.Standard_Deviation+c.Expression_Value);temp=upr;if(isNaN(c.Expression_Value)&&isNaN(temp)){temp=0}if(upr>max_val){max_val=upr}if(isNaN(temp)&&isNaN(c.Expression_Value)){temp=0}for(i=0;i<options.horizontal_lines.length;i++){if(options.horizontal_lines[i][2]!=="NULL"){if(temp<(options.horizontal_lines[i][2])){temp=Math.ceil(options.horizontal_lines[i][2])+1}}}if((Math.ceil(temp)-temp)<0.2){temp=temp+0.5}return temp});min=lwr_min_max_values_from_data[0];max=upr_min_max_values_from_data[1];if(min>0){if(options.show_min_y_axis==true){min=Math.floor(min)}else{min=0}}if(max<1){Math.round(max*10)/10}for(key in options.horizontal_lines){value=options.horizontal_lines[key];if(value[2]>max){max=Math.ceil(value[2])}if(value[2]<min){min=Math.floor(value[2])}}a.max_val=max_val;a.min_val=min_val;a.force_domain=[min,max];return a};setup_y_axis=function(d){svg=d.svg;max=d.max_val;var b=d3.scale.linear().range([page_options.height,0]);y_column=options.y_column;d=return_y_min_max_values(d);b.domain(d.force_domain).nice();var a=d3.svg.axis().scale(b).orient("left").innerTickSize(-page_options.width).outerTickSize(0);y_axis_legend_y=(d.full_height-options.margin.top-options.margin.bottom)/2;if(scaling_required=="yes"){y_axis_legend_y=(d.full_height-options.margin.top-options.margin.bottom)/4}if(options.display.y_axis_title==="yes"){svg.append("text").text(options.y_axis_title).attr("class","y_axis_label").attr("text-anchor","middle").style("font-family",options.font_style).style("font-size",options.y_label_text_size).attr("transform","rotate(-90)").style("text-anchor","middle").attr("x",-y_axis_legend_y).attr("y",-options.y_label_x_val)}if(options.display.horizontal_grid_lines==="yes"){var c=svg.append("g").attr("class","grid").attr("opacity",options.grid_opacity).attr("stroke",options.grid_colour).attr("stroke-width","0.5").call(a);c.selectAll("text").style({"stroke-width":"0","font-family":"Arial","font-size":"12px"})}else{svg.append("g").call(a)}var e=-5;$(".tick text").attr("transform","translate("+e+",0)");d.svg=svg;d.scaleY=b;d.yAxis=a;return d};setup_x_axis=function(d,c){page_options=d.page_options;svg=d.svg;options=d.options;var a=d3.scale.ordinal().rangePoints([0,page_options.width],options.padding);a.domain(c);var b=d3.svg.axis().scale(a).tickSize(0).orient("bottom");font_size="0px";svg.append("g").attr("class","x_axis").attr("transform","translate(0,"+page_options.height+")").call(b).selectAll("text").attr("dx","-2em").style("font-size",font_size).style("text-anchor","end").attr("dy","-0.1em").attr("transform",function(e){return"rotate(-65)"}).append("text").attr("class","label").attr("x",page_options.width).attr("y",+24).style("text-anchor","end").text(options.x_axis_title);d.svg=svg;d.scaleX=a;return d};calc_x_value_label=function(e,g,a,f){var c=f.prev_line;var b;if(a==0){c="none"}if(options.multi_group!=1){b=g.label1+g.label2}else{b=g.label1}if(b!=c){avg=e.multi_scaleX(e.multi_xaxis_list[a]);c=b;f.prev_line=c;f.xval=avg+e.size_of_half_col;return f}else{f.xval=0;return f}};return_label_name=function(f,a,g,j,b){delimiter=" ";if(g==1){counter_probe++}var h=24;var c;var k=options.ref_type;if(g==1||g==3){temp=f.label1}else{temp=f.label2}if(b==1){if(j.graph_type=="Scatter Plot"||g==3||g==2){c=""}else{if(k=="gene_set_id"||k=="probeID"){c=options.ref_name[temp]}else{c=options.ref_name[symbol]}}word=c+" "+temp;var e=temp;temp=word.replace(regex_function(h,delimiter),"$&\n");if(f.multi_mapping=="yes"){if(k=="gene_set_id"||k=="probeID"){return e+"*"}else{return temp+"*"}}else{return temp}}else{if(b==2){temp=temp.replace(regex_function(h,delimiter),"$&\n");if(f.multi_mapping=="yes"){return temp+"*"}else{return temp}}else{if(b==3){if(j.graph_type=="Scatter Plot"||g==3||g==2){c=temp;counter_probe=""}else{if(k=="gene_set_id"||k=="probeID"){c=options.ref_name[temp]+" "+probe_name}else{c=options.ref_name[symbol]+" "+probe_name}}word=c;temp=word.replace(regex_function(h,delimiter),"$&\n");if(f.multi_mapping=="yes"){if(k=="gene_set_id"){return"Multimapped "+probe_name+"*"}else{return temp+counter_probe+"*"}}else{return temp+" "+counter_probe}}else{if(b==4){if(j.graph_type=="Scatter Plot"||g==3||g==2){c=temp;counter_probe=""}else{c=probe_name}word=c;temp=word.replace(regex_function(h,delimiter),"$&\n");if(f.multi_mapping=="yes"&&g==1){return"Multimapped "+temp+" "+counter_probe+"*"}else{if(g==1){return temp+" "+counter_probe}else{return temp}}}else{if(b==5){if(j.graph_type=="Scatter Plot"||g==3||g==2){c=temp}else{if(k=="probeID"){c=options.ref_name[temp]}else{if(k=="gene_set_id"){c=gene_set_name}else{c=options.ref_name[symbol]}}}word=c;temp=word.replace(regex_function(h,delimiter),"$&\n");if(f.multi_mapping=="yes"){return temp+"*"}else{return temp}}else{if(b==6){if(j.graph_type=="Scatter Plot"||g==3||g==2){c=temp}else{c=probe_name+" "+temp}word=c;temp=word.replace(regex_function(h,delimiter),"$&\n");if(f.multi_mapping=="yes"){return temp+"*"}else{return temp}}}}}}}};setup_x_axis_labels=function(n,c,f,h,e,l){svg=n.svg;counter_probe=0;position=options.axis;var q=options.ref_type;var b=n.name_mapping;if(h==".hidden-probe_text"){var o=0}else{var o=1}page_options=n.page_options;options=n.options;if(l==1){vertical_lines=n.outer_label}else{if(l==3){vertical_lines=n.very_inner_label}else{vertical_lines=n.inner_label}}var m=vertical_lines.length;var a=n.multi_scaleX;var d;var p=5;var k=options.x_axis_text_angle;var g=-45;var j=4;if(q=="probeID"){j=3}else{j=4}svg.selectAll(h).data(vertical_lines).enter().append("text").attr("class","x_axis_diagonal_labels x_axis_label "+h.replace(".","")).style("text-anchor","end").style("fill",function(r){if(r.multi_mapping=="yes"&&l==1){return"#ff0000"}else{return"#000000"}}).attr("id",function(r){}).attr("y",function(){if(position=="top"&&l==1){if(g==-45){y_value=0-f-100}else{y_value=0-f}}else{y_value=page_options.height+f}return y_value}).attr("x",function(u,s){var v=b[u.start_name];var r=b[vertical_lines[s].end_name];var t=(a(r)-a(v))/2;x_value=a(v)+t;return x_value}).text(function(t,r){if(q=="probeID"&&t.multi_mapping=="yes"&&h!=".hidden-probe_text"){j=4;var s=return_label_name(t,r,l,n,j)}else{if(h==".hidden-probe_text"){if(q=="gene_set_id"||q=="probeID"){j=1;var s=return_label_name(t,r,l,n,j)}else{j=2;var s=return_label_name(t,r,l,n,j)}}else{if(q=="gene_set_id"){j=3;var s=return_label_name(t,r,l,n,j)}else{var s=return_label_name(t,r,l,n,j)}}}hover=t.hover;return s}).call(wrap,p,h).style("font-family",options.font_style).style("font-size",options.text_size).on("click",function(v){if(l==1){temp_label=v.label1}else{if(l==3){temp_label=v.label1}else{temp_label=v.label2}}if($("#store_and_submit_select_probes").is(":visible")&&h==".probe_text"){var u="";if($("#textarea-probe").val()){u=$("#textarea-probe").val()+" "}$("#textarea-probe").val("");$("#textarea-probe").val(u+temp_label)}else{if(v.multi_mapping=="yes"){var s=window.location.href;var r=$("#db_id").html();var t=$("#ds_id").html();if(t==undefined){t=$("#last_clicked_ds_id").html()}if(l==1){temp_label=v.label1}else{temp_label=v.label2}new_url=s.split(BASE_PATH)[0]+"//"+s.split(BASE_PATH)[2]+BASE_PATH+"probes/multi_map_summary?axis=934&probe_id="+temp_label+"&ds_id="+t+"&db_id="+r;window.location=new_url}}}).attr("transform",function(v,t){var x=b[v.start_name];var r=b[vertical_lines[t].end_name];var u=(a(r)-a(x))/2;var w=a(x)+u;if(position=="top"&&l==1){var s=0-f;k=g;if(g==-45){s-=100}if(options.probe_count==1&&h!=".hidden-probe_text"){k=0}}else{var s=page_options.height+f}return"rotate("+k+","+w+","+s+")"}).style("text-anchor",function(){if(l==1&&(n.graph_type!="Scatter Plot")){return"start"}else{return"end"}}).style("opacity",o).on("mouseover",function(s){var r=" Click to view multimapped genes";tooltip_label_for_axis=d3.select("body").append("div").attr("id","x-axis-tooltip").attr("class","d3-tip").html(function(){if(q=="gene_set_id"){if(s.multi_mapping=="yes"){return s.hover+" <br/>"+r}else{return s.hover}}else{if(s.multi_mapping=="yes"){return s.hover+" <br/>"+r}else{return s.hover}}}).style("left",(d3.event.pageX-50)+"px").style("top",(d3.event.pageY+30)+"px").style("display","inline");return tooltip_label_for_axis}).on("mouseout",function(r){$("#x-axis-tooltip").remove()}).on("mousemove",function(r){tooltip_label_for_axis.style("left",(d3.event.pageX-50)+"px").style("top",(d3.event.pageY+30)+"px").style("display","inline")});n.svg=svg;return n};setup_x_axis_click_label_button=function(a){var b=50;svg=a.svg;svg.append("text").attr("id","x_axis_button").attr("y",options.height+b).attr("x",(options.width/2)).text("show x axis").on("click",function(){draw_graph_with_axis()});a.svg=svg;return a};label_hover_on_feature=function(c,a,e,b){};label_hover_out_feature=function(g,b,h,e){var a=e.circle_radius;var c=get_type(g);var f=document.getElementsByClassName(h+c);for(i=0;i<f.length;i++){d3.select(f[i]).attr("r",a).style("opacity",1)}};var colours_alternate_sort=["DarkOrchid","Orange","DodgerBlue","Blue","BlueViolet","Brown","Deeppink","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Crimson","Cyan","Red","DarkBlue","DarkGoldenRod","DarkGray","Tomato","Violet","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSlateBlue","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DodgerBlue","FireBrick","ForestGreen","Fuchsia","Gold","GoldenRod","Green","GreenYellow","HotPink","IndianRed","Indigo"];setup_colours_for_group=function(c,b,e,d){var a=0;for(i=0;i<c.length;i++){if(a==e){a=0}b[c[i]]=d[a];a++}return b};default_options=function(){var a={target:"#graph",unique_id:"Sample_ID",margin:{top:80,right:0,bottom:30,left:0},height:1500,width:1060,x_axis_title:"Samples",y_axis_title:"Log2 Expression"};return a};d3_wrap=function(b,a){b.each(function(){var k=d3.select(this),e=k.text().split(/\s+/).reverse(),c,m=[],d=0,h=1.1,f=k.attr("y"),g=k.attr("x"),l=parseFloat(k.attr("dy"));if(isNaN(l)){l=0}tspan=k.text(null).append("tspan").attr("x",g).attr("y",f).attr("dy",l+"em");while(c===e.pop()){m.push(c);tspan.text(m.join(" "));if(tspan.node().getComputedTextLength()>a){m.pop();tspan.text(m.join(" "));m=[c];new_dy=++d*h+l;tspan=k.append("tspan").attr("x",g).attr("y",f).attr("dy",new_dy+"em").text(c).attr("text-anchor","middle")}}})};setup_margins=function(a){options=a.options;page_options.margin=options.margin;page_options.margin_left=options.margin.left;page_options.width=options.width;page_options.margin_top=options.margin.top;page_options.margin_bottom=options.margin.bottom;page_options.height=options.height;page_options.horizontal_grid_lines=options.horizontal_grid_lines;page_options.full_width=options.width+options.margin.left+options.margin.right;page_options.full_height=options.height+options.margin.top+options.margin.bottom;if(a.graph_type=="Box Plot"||a.graph_type=="Line Graph"){width_to_support_many_samples=0;if(options.num_sample_types*options.box_width*2>options.width){width_to_support_many_samples=options.box_width*3}page_options.width_to_support_many_samples=width_to_support_many_samples/2;page_options.width=(width_to_support_many_samples*options.probe_count)+options.width;a.page_options=page_options}if(a.graph_type=="Line Graph"){if(options.num_sample_types*options.box_width*2>options.width){width_to_support_many_samples=options.box_width*3}}if(a.graph_type=="Violin Plot"){if(options.num_sample_types*options.box_width*2>options.width){width_to_support_many_samples=options.box_width*3}}width_to_support_many_samples=0;if(a.graph_type!="Scatter Plot"){if(options.num_sample_types*options.box_width>options.width){options.box_width=(options.width/options.num_sample_types)/4}else{if((options.num_sample_types*options.box_width)/(options.width/options.probe_order.length)>1){options.box_width=(options.width*0.7/options.probe_order.length)/options.num_sample_types}}}page_options.width_to_support_many_samples=width_to_support_many_samples/2;page_options.width=(width_to_support_many_samples*options.probe_count)+options.width;a.page_options=page_options;a.page_options=page_options;return a};set_data_order=function(a){if(options.sample_type_order!=="none"){options.data.sort(function(d,c){return options.sample_type_order.indexOf(d.Sample_Type)-options.sample_type_order.indexOf(c.Sample_Type)})}return a};remove_spaces=function(a){newstring=a.replace(/\s+/g,"_");return newstring};setup_svg=function(h){options=h.options;options.sortByOption=remove_spaces(options.sortByOption);page_options=h.page_options;if(h.graph_type=="Scatter Plot"){full_width=page_options.full_width}else{full_width=page_options.full_width}full_height=page_options.full_height;if(scaling_required=="yes"){var g=0.4;var f=0.4}h.full_width=full_width;h.full_height=full_height;background_stroke_width=options.background_stroke_width;background_stroke_colour=options.background_stroke_colour;if(scaling_required=="yes"){$(options.target).html("").css("width",(full_width*g/1.05)+"px").css("height",(full_height*f)+"px");var d=options.target.id;var a=h.options.tooltip_multiview;options.margin={top:80,left:40,bottom:-100,right:-80};var c=50;var b=d3.select(options.target).append("svg").attr("width",full_width*g/1.05).attr("height",full_height*f).attr("id",d+"-svg").attr("class","graph-svg").on("click",function(){lastClickedGraph=d;open_modal("modalDiv","open")}).append("g").attr("id",d+"-group").attr("transform","translate("+options.margin.left+","+(options.margin.top-c)+") scale("+g+","+f+")")}else{var c=50;$(options.target).html("").css("width",full_width+"px").css("height",full_height+"px");var d=options.target.id;var b=d3.select(options.target).append("svg").attr("width",full_width).attr("height",full_height).attr("id",d+"-svg").attr("class","graph-svg").on("click",function(){if(multiview_graph=="yes"){lastClickedGraph=d;if(scaling_required=="yes"){open_modal("modalDiv","open")}}}).append("g").attr("id",d+"-group").attr("transform","translate("+page_options.margin.left+","+(page_options.margin.top-c)+")")}b.append("rect").attr("width",page_options.width).attr("height",page_options.height).attr("stroke-width",background_stroke_width).attr("stroke",background_stroke_colour).attr("fill",options.background_colour);height_divisor=1.5;count=0;counter=0;main_title_counter=0;main_title_count=0;y_axis_divisor=1.25;var k=options.title.replace(/.{125}\S*\s+/g,"$&@").split(/\s+@/);for(i=0;i<k.length;i++){main_title_counter++;b.append("text").attr("id","main_title").attr("class","graph-title main-title").attr("x",page_options.width/2).attr("y",function(){var l=page_options.margin.top/y_axis_divisor-(parseInt(options.text_size,15)*(i+1));if(l<=0){main_title_count++}return 0-l}).attr("text-anchor","middle").text(k[i]).style("font-family",options.font_style).style("font-size",options.title_text_size).style("fill","black").attr("transform","translate(0,"+(10+(counter*20))+")")}for(i=0;i<options.subtitles.length;i++){var e=(options.subtitles[i].replace(/.{125}\S*\s+/g,"$&@").split(/\s+@/));for(j=0;j<e.length;j++){counter++;b.append("text").attr("id","subtitle").attr("class","graph-title").attr("x",page_options.width/2).attr("y",function(){num=(page_options.margin.top-30)/y_axis_divisor-(parseInt(options.text_size,10)*(i+1));if(num<=0){count++}return 0-num}).attr("text-anchor","middle").text(e[j]).style("font-family",options.font_style).style("font-size",options.title_text_size).style("fill","black").attr("transform","translate(0,"+(10+(counter*20))+")")}}max_width_of_text=800;suggested_width_of_text=options.width*0.7;if(max_width_of_text<suggested_width_of_text){width_of_title=max_width_of_text}else{width_of_title=suggested_width_of_text}b.selectAll("."+options.title_class).call(this.d3_wrap,width_of_title);h.svg=b;return h};setup_watermark=function(a){svg=a.svg;page_options=a.page_options;options=a.options;var c=200;var b=50;options.watermark_width=b;svg.append("image").attr("xlink:href",options.watermark).attr("id","s4m-logo").attr("x",-page_options.height+100).attr("y",page_options.width).attr("transform","rotate(-90)").attr("width",c).attr("height",b);a.svg=svg;return a};setup_horizontal_lines=function(d){svg=d.svg;scaleX=d.scaleX;scaleY=d.scaleY;options=d.options;width=page_options.width;lines=options.lines;horizontal_lines=options.horizontal_lines;font_size=options.text_size;margin_y_value=20;colour_random=d3.scale.category20();var f=undefined;for(var c=0;c<horizontal_lines.length;c++){var b=horizontal_lines[c][0];if(horizontal_lines[c][1]===undefined){var e=colour_random}else{var e=horizontal_lines[c][1]}var a=horizontal_lines[c][2];if(a!="NULL"){svg.append("line").attr("class","lines").attr("data-legend",function(g){return b}).attr("x1",0).attr("x2",width).attr("y1",function(){return scaleY(a)}).attr("y2",scaleY(a)).attr("shape-rendering","crispEdges").attr("stroke-width",options.line_stroke_width).attr("opacity","0.6").style("stroke",e);svg.append("text").attr("x",function(h){var g=margin_y_value+(b.length*3)+15;if(a==f){g=margin_y_value+(b.length*3)+50+prev_size}f=a;prev_size=g;return g}).attr("y",scaleY(a)-5).text(b).attr("text-anchor","middle").style("font-family",options.font_style).style("font-size",font_size).style("fill",e).attr("class",options.title_class)}}d.svg=svg;return d};preprocess_lines=function(a){horizontal_lines=a.options.horizontal_lines;lines=Array();for(key in horizontal_lines){name=key;value=horizontal_lines[key];data_line={value:value,name:name};lines.push(data_line)}a.options.lines=lines;return a};calculate_difference_between_samples=function(a,b){prev_sample_id=a[0];step_sample_id=a[1];value=b(step_sample_id)-b(prev_sample_id);return value};setup_vertical_lines=function(n,b,a){var h=n.svg;vertical_lines=n.outer_label;var e=n.multi_scaleX;var d=0;var k=n.page_options;var m=vertical_lines.length;var l;var g;var c=n.name_mapping;var f=0;h.selectAll(".separator").data(vertical_lines).enter().append("line").attr("class","separator").attr("x1",function(r,p){if(p==0){l="none";d=e(r)/4}if(p==m-1){return 0}var s=c[r.end_name];var o=c[vertical_lines[p+1].start_name];var q=(e(o)-e(s))/2;avg=e(s)+q;return avg}).attr("x2",function(r,p){if(p==0){l="none";d=e(r)/4}if(p==m-1){return 0}var s=c[r.end_name];var o=c[vertical_lines[p+1].start_name];var q=(e(o)-e(s))/2;avg=e(s)+q;return avg}).attr("y1",function(p,o){return 0}).attr("y2",function(p,o){temp=k.height;return temp}).attr("shape-rendering","crispEdges").attr("stroke-width",options.line_stroke_width).attr("opacity","0.2").attr("stroke","black");n.svg=h;return n};make_legend_tooltip=function(){var a=d3.tip().attr("class","d3-tip").offset([0,100]).html(function(e){var b=" Click to view multimapped genes";if(graph_type!="Scatter Plot"){if(sortBy=="Sample_Type"){var c=sample_type_hover[e]}else{var c=e}}else{if(probeInfo_variable[e]["multi_mapping"]=="yes"){var c=e+"<br/>"+b}else{var c=e}}temp=c+"<br/>";return temp});return a};function wrap(d,b,c){var a=1.1;d.each(function(){var n=d3.select(this),h=n.text().split("\n").reverse(),e,p=[],f=0,l=n.attr("y"),m=n.attr("x"),o=parseFloat(n.attr("dy")),k=n.text(null).append("tspan").attr("x",m).attr("y",l-16).attr("dy",0+"em");while(e=h.pop()){p.push(e);k.text(p.join(" "));if((k.node().getComputedTextLength()>b)||((k.node().getComputedTextLength()==0)&&($("#row_3").css("display")=="none"||$("#row_6").css("display")=="none"))){p.pop();var g=k.node().getComputedTextLength()/2;k.text(p.join(" "));p=[e];k=n.append("tspan").attr("x",function(){if(c==".probe_text"&&options.probe_count==1){return m-g/2}else{return m}}).attr("y",l-16).attr("dy",a+f+"em").text(e);f++}}})}regex_function=function(b,a){var c=new RegExp("(.{"+b+"})"+a,"g");return c};setup_D3_legend=function(d,g,t){svg=d.svg;graph_type=d.graph_type;if(typeof(t)=="undefined"){if(graph_type=="Scatter Plot"){t=".exposed_legend"}else{t=".legend"}}probeInfo_variable=d.probeInfo;var n=make_legend_tooltip();svg.call(n);var a=25;var w=" ";var l=1;var h=1;var u=1;var q=g.list;var k=g.name;var f=4;var p=5;var c=12;var o=17;var r=false;var s=20;options=d.options;var e=options.legend_rect_size;page_options=d.page_options;if((d.graph_type=="Box Plot"||d.graph_type=="Violin Graph")&&(options.sortByOption.split(",")[0]=="Sample_Type"||options.sortByOption.split(",")[1]=="Sample_Type")){assigned_colour=options.colour}else{assigned_colour=options.colour_array}legend_counter=0;if(t==".hidden_legend"){var x=0}else{var x=1}var v=115;var m=svg.append("rect").attr("x",page_options.width+(v/2)).attr("y",0).attr("class","legend_border").style("stroke","#000000").style("fill","none").style("stroke-width","1px").style("opacity",0);svg.append("text").attr("x",page_options.width+v).attr("y",s).attr("text-anchor","middle").text(function(){if(t!="none"){return"Legend"}}).attr("class",options.title_class+" legend-title").style("font-family",options.font_style).style("font-size",options.title_text_size).style("fill","#000000");border_counter=1;legend_num=1;var b=svg.selectAll(".legend").data(q).enter().append("g").attr("transform",function(C,A){if(r){border_counter++;r=false}var y=e+17;var B=y/2;var z=-5*e+(page_options.width+(options.legend_padding*border_counter));vertical=(legend_num*y-B+s);legend_num++;if(C.length>(2*a)){h=Math.ceil((C.length/a)/2);legend_num++}else{h=1}if(vertical>400){legend_num=1;r=true}return"translate("+z+","+vertical+")"});id=null;b.append("rect").attr("width",e).attr("class","legendClass").attr("id",function(z,y){return"legend-rect-"+z[y];return"legend-rect-"+z[0]}).attr("height",e).style("fill",function(z,y){return assigned_colour[z]}).style("stroke",function(z,y){return assigned_colour[z]}).style("opacity",1).on("mouseover",n.show).on("mouseout",n.hide);b.append("text").attr("id",function(y){return"legend-text-"+probeInfo_variable[0]}).attr("class","legendClass "+t.replace(".","")).attr("x",e+f).attr("y",e-f).style("font-family",options.font_style).style("font-size",options.text_size).style("opacity",1).text(function(D,B){if(k=="probes"){if(t==".hidden_legend"){if(probeInfo_variable[D]["multi_mapping"]=="yes"){return D+"*"}else{z=options.ref_type;if(z=="probeID"||z=="gene_set_id"){return options.ref_name[D]+" "+D}else{return D}}}else{var z=options.ref_type;legend_counter++;var E=options.probe_name_for_tooltip;var C=probeInfo_variable[D]["label"];if(z=="ensemblID"||z=="miRNA"){var y=options.ref_name[symbol]+" "+C}else{var y=options.ref_name[C]+" "+C}var A=y.replace(regex_function(c,w),"$&\n");if(z=="gene_set_id"||z=="probeID"){if(probeInfo_variable[D]["multi_mapping"]=="yes"){return"Multimapped "+E+" "+legend_counter+"*"}else{return probeInfo_variable[D]["Mapped_gene"]+" "+E+" "+legend_counter}}else{if(probeInfo_variable[D]["multi_mapping"]=="yes"){return"Multimapped "+E+" "+legend_counter+"*"}else{return E+" "+legend_counter}}}}else{var E=D.replace(regex_function(o,w),"$&\n");return E}}).call(wrap,p).style("fill",function(z,y){if(k=="probes"){if(probeInfo_variable[z]["multi_mapping"]=="yes"){return"#ff0000"}else{return"#000000"}}else{return"#000000"}}).on("mouseover",n.show).on("mouseout",n.hide).on("click",function(B){if(k=="probes"){if(probeInfo_variable[B]["multi_mapping"]=="yes"){var z=window.location.href;var y=$("#db_id").html();if(multiview_graph=="yes"){A=$("#last_clicked_ds_id").html()}else{var A=$("#ds_id").html()}new_url=z.split(BASE_PATH)[0]+"//"+z.split(BASE_PATH)[2]+BASE_PATH+"probes/multi_map_summary?general=871&probe_id="+B+"&ds_id="+A+"&db_id="+y;window.location=new_url}}}).style("opacity",x);full_width_var=(full_width+(options.legend_padding*border_counter))+"px";full_width=full_width+(options.legend_padding*border_counter);m.attr("height",500).attr("width",options.legend_padding*border_counter+(options.legend_padding/2));document.getElementsByClassName("graph-svg")[0].setAttribute("width",full_width_var);d.svg=svg;return d};setup_hover_bars=function(c,a){svg=c.svg;options=c.options;tip=options.tip;svg.call(tip);opacity=0;scaleX=c.scaleX;scaleY=c.scaleY;vertical_lines=c.vertical_lines;page_options=c.page_options;sample_id_count=0;first=0;once=0;var b;x_values_for_bars=new Array();padding=(calculate_difference_between_samples(a,scaleX))/2;svg.selectAll(".bar").data(vertical_lines).enter().append("rect").attr("id",function(e){return e.sample_type}).style("opacity",opacity).style("fill","#FFA62F").attr("x",function(e){sample_id_count++;if(first===0){first=1;return scaleX(e.start_sample_id)-padding*options.padding}else{return scaleX(e.start_sample_id)-padding}}).attr("width",function(f,e){sample_id_count--;if(once===0){once=1;return scaleX(f.end_sample_id)-scaleX(f.start_sample_id)+3/2*options.padding*padding}if(sample_id_count===0){return scaleX(f.end_sample_id)-scaleX(f.start_sample_id)+3/2*options.padding*padding}else{return scaleX(f.end_sample_id)-scaleX(f.start_sample_id)+options.padding*padding}}).attr("y",0).attr("height",page_options.height-2).on("mouseover",function(e){barOver=document.getElementById(e.sample_type);barOver.style.opacity="0.5";b=d3.select("body").append("div").attr("class","tooltip").style("opacity",0.000001).html(function(){temp="Sample Type: "+e.sample_type+"<br/>";return temp});b.style("opacity",1)}).on("mousemove",function(e){b.html="Sample Type: "+e.sample_type+"<br/>";b.style("left",Math.max(0,d3.event.pageX-150)+"px");b.style("top",(d3.event.pageY+20)+"px");b.show}).on("mouseout",function(e){b.remove();barOver=document.getElementById(e.sample_type);barOver.style.opacity="0"});c.svg=svg;return c};setup_error_bars=function(a){svg=a.svg;options=a.options;page_options=a.page_options;scaleX=a.scaleX;scaleY=a.scaleY;tooltip=a.options.tooltip;shape_rendering="auto";stroke_width=options.error_stroke_width;dividor=options.error_dividor;width=options.error_bar_width;svg.selectAll(".max").data(options.data).enter().append("line").attr("class","max").attr("x1",function(c){if(((c.Expression_Value+c.Standard_Deviation)-c.Expression_Value)<(c.Expression_Value/dividor)){var b=get_x_value_scatter(a,c);return b}else{width=options.error_bar_width;var b=get_x_value_scatter(a,c)-width;return b}}).attr("x2",function(c){if(((c.Expression_Value+c.Standard_Deviation)-c.Expression_Value)<(c.Expression_Value/dividor)){var b=get_x_value_scatter(a,c);return b}else{var b=get_x_value_scatter(a,c)+width;return b}}).attr("y1",function(b){if(((b.Expression_Value+b.Standard_Deviation)-b.Expression_Value)>0){temp=scaleY(b.Expression_Value+b.Standard_Deviation);return temp}else{return 0}}).attr("y2",function(b){if(((b.Expression_Value+b.Standard_Deviation)-b.Expression_Value)>0){temp=scaleY(b.Expression_Value+b.Standard_Deviation);return temp}else{return 0}}).attr("shape-rendering",shape_rendering).attr("stroke-width",stroke_width).attr("stroke","black").on("mouseover",tooltip.show).on("mouseout",tooltip.hide).style("fill","none");svg.selectAll(".min").data(options.data).enter().append("line").attr("class","min").attr("x1",function(c){if(isNaN(c.Expression_Value)){return}if(((c.Expression_Value+c.Standard_Deviation)-c.Expression_Value)<(c.Expression_Value/dividor)){var b=get_x_value_scatter(a,c);return b}else{var b=get_x_value_scatter(a,c)+width;return b}}).attr("x2",function(c){if(isNaN(c.Expression_Value)){return}if(((c.Expression_Value+c.Standard_Deviation)-c.Expression_Value)<(c.Expression_Value/dividor)){var b=get_x_value_scatter(a,c);return b}else{var b=get_x_value_scatter(a,c)-width;return b}}).attr("y1",function(b){if(isNaN(b.Expression_Value)){return}temp=scaleY(b.Expression_Value-b.Standard_Deviation);return temp}).attr("y2",function(b){if(isNaN(b.Expression_Value)){return}temp=scaleY(b.Expression_Value-b.Standard_Deviation);return temp}).attr("shape-rendering",shape_rendering).attr("stroke-width",stroke_width).attr("stroke","black").on("mouseover",tooltip.show).on("mouseout",tooltip.hide).style("fill","none");svg.selectAll(".vertical").data(options.data).enter().append("line").attr("class","vertical").attr("x1",function(c){var b=get_x_value_scatter(a,c);return b}).attr("x2",function(c){var b=get_x_value_scatter(a,c);return b}).attr("y1",function(b){if(isNaN(b.Expression_Value)){return}temp=scaleY(b.Expression_Value+b.Standard_Deviation);return temp}).attr("y2",function(b){if(isNaN(b.Expression_Value)){return}temp=scaleY(b.Expression_Value-b.Standard_Deviation);return temp}).attr("shape-rendering",shape_rendering).attr("stroke-width",stroke_width).on("mouseover",tooltip.show).on("mouseout",tooltip.hide).attr("stroke-width","2px").attr("stroke","black").style("fill","black");a.svg=svg;return a};run_tests=function(c){var a=c.options;var b=a.data;check_num_points(a,b,c);check_x_labels(a,b,c);check_horizontal_lines(a,c);check_legend(a,b,c);check_titles(a,c);check_axis(a,c);return c};check_axis=function(b,f){var e=document.getElementsByClassName("tick");var c=1000;var a=0;for(var h in e){var g=parseFloat(e[h].innerHTML);if(g<c){c=g}if(g>a){a=g}}if(a<f.max_val){console.log("Ticks max val was too small")}if(c>f.min_val){console.log("Ticks min val was too large")}console.log("check for axis complete, num ticks: ",e.length)};check_titles=function(j,i){var f=j.title;var e=j.title_text_size;var h=document.getElementById("title-"+f);if(h.innerHTML!==f||h.style.fontSize!==e){console.log("Error with text of main title: "+f)}var a=j.text_size;for(var c in j.subtitles){var b=j.subtitles[c];var g=document.getElementById("subtitle-"+b);if(g.innerHTML!==b||g.style.fontSize!==a){console.log("Error with text of sub title: "+b)}}console.log("Titles and subTitles have been checked")};check_legend=function(m,f,k){var j=m.probes;for(var h in j){var e=j[h][0];var b=j[h][1].toUpperCase();var i=document.getElementById("legend-text-"+e);var g=document.getElementById("legend-rect-"+e);if(i.innerHTML!==e){console.log("Error with legend text: ",name)}var c=g.style.fill.toUpperCase();var l=parseFloat(g.getAttribute("height"));var a=parseFloat(g.getAttribute("width"));if(a!==m.legend_rect_size||l!==m.legend_rect_size){console.log("Error with legend rect size: ",name)}if(c!==b){console.log("Error with legend rect colour: ",name)}}console.log("Checked Legend for correct rectangles being displayed and legend text")};check_horizontal_lines=function(d,a){var m=d.horizontal_lines;var k=page_options.width;var f=d.text_size;var r=d3.scale.category20();for(var o=0;o<m.length;o++){var t=m[o][0];if(m[o][1]===undefined){var j=r}else{var j=m[o][1]}var g=m[o][2];var h=document.getElementById("horizontal-line-"+t);var e=document.getElementById("horizontal-line-text-"+t);var c=parseFloat(h.getAttribute("y1"));var b=parseFloat(h.getAttribute("y2"));var q=parseFloat(h.getAttribute("x1"));var p=parseFloat(h.getAttribute("x2"));var n=a.scaleY(a.max_val);var l=a.scaleY(a.min_val);var s=parseFloat(a.scaleY(g));if((p-q)!==k||c!==b||c!==s){console.log("Error with horizontal line positioning: ",t)}if(c>l||c<n){console.log("Error with horizontal line ouside bounds: ",t)}if(e.innerHTML!==t){console.log("Error with horizontal line text: ",t)}if(e.style.fontSize!==f){console.log("Error with horizontal line text size: ",t)}}console.log("Horizontal lines have been checked for spanning page, bounds, text_size and text")};check_x_labels=function(k,e,i){var a=0;for(var f in k.x_labels){var b=k.x_labels[f];var g=document.getElementById("xLabel-"+b.replace(/\ |(|)/g,""));var h=g.innerHTML;if(h!==b){console.log("Error in x labels with sample: ",b,h)}var c=g.style.fontFamily;var j=g.style.fontSize;if(c!==k.font_style){console.log("Error in style of x labels with sample: ",b)}if(j!==k.text_size){console.log("Error in size of x labels with sample: ",b)}}console.log("x labels have been checked for size, font, text")};check_num_points=function(b,g,f){var h=0;for(var i in g){var e=g[i];var c=document.getElementById("scatter-point-"+e.Sample_ID);var a=parseInt(c.getAttribute("r"));if(a!==b.circle_radius){console.log("error with following sample type: ",e.Sample_ID)}h++}console.log("Scatter points have been checked for size and number of points")};